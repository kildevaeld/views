<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: view.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: view.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import * as base from './baseview';
import { utils } from './utils';
const kUIRegExp = /@ui.([a-zA-Z_\-\$#]+)/i;
export function normalizeUIKeys(obj) {
    /*jshint -W030 */
    let o = {}, k, v, ms, sel, ui;
    for (k in obj) {
        v = obj[k];
        if ((ms = kUIRegExp.exec(k)) !== null) {
            ui = ms[1], sel = this._ui[ui];
            if (sel != null) {
                k = k.replace(ms[0], sel);
            }
        }
        o[k] = v;
    }
    return o;
}
export class View extends base.BaseView {
    /**
     * View
     * @param {ViewOptions} options
     * @extends BaseView
     */
    constructor(options) {
        super(options);
        this.ui = {};
    }
    delegateEvents(events) {
        this.bindUIElements();
        events = events || this.events;
        events = normalizeUIKeys.call(this, events);
        super.delegateEvents(events);
        return this;
    }
    undelegateEvents() {
        this.unbindUIElements();
        super.undelegateEvents();
        return this;
    }
    /* UI Elements */
    bindUIElements() {
        let ui = this.getOption('ui'); //this.options.ui||this.ui
        if (!ui)
            return;
        if (!this._ui) {
            this._ui = ui;
        }
        ui = utils.result(this, '_ui');
        this.ui = {};
        Object.keys(ui).forEach((k) => {
            let elm = this.$(ui[k]);
            if (elm &amp;&amp; elm.length) {
                // unwrap if it's a nodelist.
                if (elm instanceof NodeList) {
                    elm = elm[0];
                }
                this.ui[k] = elm;
            }
        });
    }
    unbindUIElements() {
        this.ui = {};
    }
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-utils.html">utils</a></li></ul><h3>Classes</h3><ul><li><a href="-_.html"></a></li><li><a href="BaseObject.html">BaseObject</a></li><li><a href="BaseView.html">BaseView</a></li><li><a href="LayoutView.html">LayoutView</a></li><li><a href="Region.html">Region</a></li><li><a href="RegionManager.html">RegionManager</a></li><li><a href="TemplateView.html">TemplateView</a></li><li><a href="View.html">View</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0-dev</a> on Tue Aug 11 2015 22:13:46 GMT+0200 (CEST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
